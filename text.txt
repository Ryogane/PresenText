私たちは半自動抵抗仕分け機というものを作成しました。

電子工作をする際に抵抗をいくつか出したものの、実際に使うときになるとどれがどの抵抗なのかわからなくなったり、視力の低下や老眼などによりカラーコードが読めなかったりすることがあると思います。

そこで自動で選別してくれる装置があるといいですよね。

それを今回、まだPreview版のMicrosoftのCustomVisionServiceを使い実現させようとしています。

CustomVisionServiceとは大量の画像をタグづけをして送信することで機械学習をさせることができるものです。

学習させたデータをもとに、ある選別対象の画像を送信するとその画像がタグのうちから何であるかをパーセンテージで返してくれます。

今回は抵抗の画像を学習させました。

また、抵抗値を指定するWebページ作成にgoogleのfirebaseを使いました。

現在は学習レベルのバランスの関係から３種類のみに絞って学習させています。


では装置を見ていきましょう。

この装置はラズベリーパイが中心に構成されていて、抵抗を撮影するためのカメラ、選別したい抵抗を置くステージ、選別を開始するボタン　があります。

これらを完全に固定するための骨組みは３Dプリントで作成しました。

では動きの流れを見ていきましょう。


まずWebページから、これからどの抵抗を選別するのかを登録します。

そして抵抗を一つステージに置き、ボタンを押します。

するとラズパイが写真を撮影し、CustomVisionServiceで選別がしやすいよう画像をトリミングします。

そしてCustomVisionServiceへ送信して何Ωの抵抗であるか調べます。

CustomVisionServiceで出た結果からWebページで登録したものと同じであるかそうでないかで振り分けをします。

ここでサーボモータを使い、結果が同じならば向かって右側へ。違うのなら左側へ傾きます。

これで今使いたい抵抗なのか、そうでないものなのかを仕分けることができます。


この装置は画像認識系のことを行っているため、光の加減で結果が大きく左右されてしまいます。
なので今日は実機ではなく映像でデモをやらせていただきます。


では実際に稼働している様子です。

デモ映像ーーーーーーーーーーーーーーーー

これから抵抗５本を仕分けていきます。

使いたい抵抗の対象は５６０Ωで設定しています。

５本のうち３本が５６０Ω、残り２本は１５０ｋΩと　６５０Ωと設定したものとは違う抵抗を混ぜます。

違うものは、初めと最後に判別させます。

まず１本めは設定とは違うため左側へ。

２本目３本目４本目は設定した５６０Ωなので右側へ傾きました。

そして最後の抵抗は設定のものとは違うため左へ傾きました。

このようにして、今使いたい抵抗のみを集めることができます。

まだまだ学習レベルが低いため精度は低いのですが、うまくいけばこのようにきちんと仕分けられます。

もっとたくさんの画像を学習させて精度を上げ、確実に仕分けられるようにしたいです。

以上で終わります。
ありがとうございました。